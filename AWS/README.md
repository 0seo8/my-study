# Amazon Web Service

## 1. 배울 세가지 내용

- AWS에서 가장 대표적인 서버인 `EC2`
  - AWS에서 가장 기본이 되는 서버 단위
  - 서버를 통해서 하나의 컴퓨터 안에서도 원하는 모든 것을 구현할 수 있음
  - 서버안에 데이터 베이스를 설치할 수도 있습니다.
  - 보통 `EC2 instance`라고 많이 부릅니다.
- AWS에서 가장 대표적인 파일 저장소 `S3`
  - 간단하게 파일을 업로드하고 다운로드할 수 있는 저장소
  - 정적 웹사이트도 s3에 올려서 배포할 수 있습니다.(저장소 뿐만 아니라 호스팅에으로도 사용할 수 있다)
- AWS에서 가장 대표적인 관계형 데이터베이스 `RDS`
  - 적합한 표현은 AWS의 RDS입니다.

## 2. AWS 가입 및 프리티어 설명

### 2-1 보안그룹

- 우리가 만든 서비스에 어떤요청이 들어오고, 나가는 요청에 대한 (인바운드 아웃바운드)에 규칙을 설정해 그에 부합하지 않는 요청을 모두 block할 수 있습니다.
- 인바운드 규칙
  - http를 열어줄 수 있음
    - 위치 무관: 어디서든 요청을 보내고 받을 수 있도록 할 수 있음
    - 사용자지정을 하는 경우: 특정한 ip에서만 할 수 있도록
    - 나만 사용하는 경우: 내ip

### 2-2 로드밸런서

- 서버가(ec2인스턴스가) 일정한 부하를 받게 되었을 때, 똑같은 자신의 이미지를 가진 상태로 서버가 늘어나고 줄어나는 규칙을 만들어주는 곳.
- 즉, 서버가 터지는 것을 방지하는 것

## 3. EC2생성하기

### 단계1. AMI선택

- 아마존에서 자주 사용하는 형태에 대해 미리 이미지를 두었는데, 그 이미지가 설치된 상태로 서버를 사용하는 것.

### 단계2. 인스턴스 유형 선택

- 실제 서비스를 만들 때 생각해야하는 것은 cpu성능과 메모리성능

### 단계3. 인스턴스 세부 정보 구성

- 처리해야 하는 데이터들이 복잡해지거나 딜레이가 발생할 때 개발자가 선택할 수 있는 방법 2가지.
  - `Scaling up` 컴퓨터 자체의 성능을 윗단계로 올림
    - ex) 신형 cpu로 변경, rem을 8기가 두개 넣는다던지.
  - `Scaling out` 서버의 개수를 늘려서 부하를 처리해줌
- `Auto Scaling`의 경우 스케일 아웃에 대한 도움을 줍니다.
- 스팟인스턴스: 최대로 발생할 수 있는 비용에 대해 설정 가능
- 네트워크
  - 만든 모든 서버는 VPC(Virtual Private Cloud)에 들어가게 됩니다.
  - vpc란 나만의 공간
  - 즉, 나만의 공간에 인스턴스를 넣어놓은 것으로 다른 공간에서는 이 공간에 침입을 하지 못합니다.
  - auto 스케일링을 걸어놓으면 이 vpc안에서만 인스턴스가 늘어나는 일이 생기며, 자원공유도 안에서만 공유가 되게 됩니다.
  - 프로젝트를 여러개 하다보면 vpc가 여러개 생길 수 있습니다.
- 서브넷
  - vpc안에 파티션과 같이 나눠지는 서브공간
- 퍼블릭 ip 자동할당
  - 누구나 이 ip주소로 접근이 가능하게 하는지
  - 만약 내가 만든 서버가 vpc밖으로 나갈 일이 없다면 굳이 할당할 필요는 없습니다.
- IAM
  - 일종의 사용자
  - 서비스를 만들었을 때, 다른 팀원들이 들어와서 프로젝트를 사용할 필요가 있음
  - 각 팀원들에게 관리 권한을 부여해줄 때 설정할 수 있음
  - default는 사용을 하지 않으며, 프로젝트가 커질 수록 설정을 해줘야합니다.

### 단계4. 스토리지 추가

- 기본적인 서버에서 몇 GB까지 쓸 수 있는지.

### 단계5. 태그

- 일종의 필요로하는 구분자
- ex) 키:Name 값:First App 인스턴스, 볼륨, 네트원크 인터페이스

### 단계6. 보안 그룹 구성

- 트랙픽 제어를 위한 방화벽 규칙 세트.

### 단계7. 키페어

- ssh를 이용해 서버에 들어갈 때 키페이가 있어야 증명이 가능합니다.
- 만약 잃어버리면 새로 키페어를 발급받아야합니다.
